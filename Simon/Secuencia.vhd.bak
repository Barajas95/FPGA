--VGA SIGNAL TIMING (640 * 480 60Hz)
--NAME			PIXELS
--Sync Pulse	96
--Back Porch	48
--Visible Area	640
--Front porch	16

--NAME			PIXELS
--Sync Pulse	2
--Back Porch	33
--Visible Area	480
--Front porch	10

LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
USE IEEE.NUMERIC_STD.ALL;
USE IEEE.STD_LOGIC_1164.ALL;
USE IEEE.STD_LOGIC_ARITH.ALL;
USE IEEE.STD_LOGIC_UNSIGNED.ALL;

ENTITY PANTALLA IS
	PORT(	VALORH: IN INTEGER RANGE 0 TO 800;
			VALORV: IN INTEGER RANGE 0 TO 525;
			PUSH_AMARILLO: IN STD_LOGIC;
			PUSH_AZUL: IN STD_LOGIC;
			PUSH_ROJO: IN STD_LOGIC;
			PUSH_VERDE: IN STD_LOGIC;
			SWITCH_ONOFF: IN STD_LOGIC;
			SWITCH_LEVEL1: IN STD_LOGIC;
			SWITCH_LEVEL2: IN STD_LOGIC;
			SWITCH_LEVEL3: IN STD_LOGIC;
			CLOCK1HZ: IN STD_LOGIC;
			CLOCK2HZ: IN STD_LOGIC;
			CLOCK3HZ: IN STD_LOGIC;
			R: OUT STD_LOGIC_VECTOR(9 DOWNTO 0);
			G: OUT STD_LOGIC_VECTOR(9 DOWNTO 0);
			B: OUT STD_LOGIC_VECTOR(9 DOWNTO 0));
END PANTALLA;

ARCHITECTURE MAIN OF PANTALLA IS
	SIGNAL HPOS: INTEGER RANGE 0 TO 800:=0;
	SIGNAL VPOS: INTEGER RANGE 0 TO 525:=0;
	SIGNAL COLOR_RED1: STD_LOGIC_VECTOR(9 DOWNTO 0):="1111111111";				-- AMARILLOS
	SIGNAL COLOR_GREEN1: STD_LOGIC_VECTOR(9 DOWNTO 0):="1111111111";
	SIGNAL COLOR_BLUE1: STD_LOGIC_VECTOR(9 DOWNTO 0):="0000000000";
	
	SIGNAL COLOR_RED2: STD_LOGIC_VECTOR(9 DOWNTO 0):="0000000000";				-- AZUL
	SIGNAL COLOR_GREEN2: STD_LOGIC_VECTOR(9 DOWNTO 0):="0000000000";
	SIGNAL COLOR_BLUE2: STD_LOGIC_VECTOR(9 DOWNTO 0):="1111111111";
	
	SIGNAL COLOR_RED3: STD_LOGIC_VECTOR(9 DOWNTO 0):="1111111111";				-- ROJO
	SIGNAL COLOR_GREEN3: STD_LOGIC_VECTOR(9 DOWNTO 0):="0000000000";
	SIGNAL COLOR_BLUE3: STD_LOGIC_VECTOR(9 DOWNTO 0):="0000000000";
	
	SIGNAL COLOR_RED4: STD_LOGIC_VECTOR(9 DOWNTO 0):="0000000000";				-- VERDE
	SIGNAL COLOR_GREEN4: STD_LOGIC_VECTOR(9 DOWNTO 0):="1111111111";
	SIGNAL COLOR_BLUE4: STD_LOGIC_VECTOR(9 DOWNTO 0):="0000000000";
	
	SIGNAL CUENTA: INTEGER:=0;
	
BEGIN

PROCESS(VALORH,VALORV)
BEGIN
	HPOS<=VALORH;
	VPOS<=VALORV;
--------------------
-- COLORES
--------------------
	IF((HPOS>0 AND HPOS<160) OR (VPOS>0 AND VPOS<45)) THEN																					-- PINTAR NEGRO EN LOS RANGOS FUERA DE LA PANTALLA
		R<="0000000000"; G<="0000000000"; B<="0000000000";
	END IF;

	IF((HPOS>159 AND HPOS<800) OR (VPOS>44 AND HPOS<525)) THEN																				-- FONDO NEGRO
		R<="0000000000"; G<="0000000000"; B<="0000000000";
	END IF;
	
	IF ((HPOS-480)**2 + (VPOS-285)**2>6400 AND (HPOS-480)**2 + (VPOS-285)**2<50625 AND HPOS<470 AND VPOS<275) THEN			-- COLOR AMARILLO
		R<=COLOR_RED1; G<=COLOR_GREEN1; B<=COLOR_BLUE1;
	END IF;
	
	IF ((HPOS-480)**2 + (VPOS-285)**2>6400 AND (HPOS-480)**2 + (VPOS-285)**2<50625 AND HPOS>470 AND VPOS<275) THEN			-- COLOR AZUL
		R<=COLOR_RED2; G<=COLOR_GREEN2; B<=COLOR_BLUE2;
	END IF;
	
	IF ((HPOS-480)**2 + (VPOS-285)**2>6400 AND (HPOS-480)**2 + (VPOS-285)**2<50625 AND HPOS<470 AND VPOS>275) THEN			-- COLOR ROJO
		R<=COLOR_RED3; G<=COLOR_GREEN3; B<=COLOR_BLUE3;
	END IF;
	
	IF ((HPOS-480)**2 + (VPOS-285)**2>6400 AND (HPOS-480)**2 + (VPOS-285)**2<50625 AND HPOS>470 AND VPOS>275) THEN			-- COLOR VERDE
		R<=COLOR_RED4; G<=COLOR_GREEN4; B<=COLOR_BLUE4;
	END IF;
	
	IF((HPOS>470 AND HPOS<490) OR (VPOS>275 AND VPOS<295)) THEN																				-- LINEAS 
		R<="0000000000"; G<="0000000000"; B<="0000000000";
	END IF;
	
	IF((HPOS-480)**2 + (VPOS-285)**2<3600) THEN																									-- CIRCULO BLANCO CENTRAL
		R<="1111111111"; G<="1111111111"; B<="1111111111";
	END IF;
	
	IF((HPOS-480)**2 + (VPOS-285)**2>=3600 AND (HPOS-480)**2 + (VPOS-285)**2<=6400) THEN											-- CIRCULO NEGRO CENTRAL
		R<="0000000000"; G<="0000000000"; B<="0000000000";
	END IF;
END PROCESS;

--------------------
-- PROCESOS
--------------------

PROCESS(CLOCK1HZ)
BEGIN
	CUENTA<=CUENTA+1;
	IF(CUENTA>2) THEN
		CUENTA<=0;
	END IF;
	
	IF(CUENTA=1 OR CUENTA=2) THEN
		IF(CLOCK1HZ = '1') THEN
			COLOR_BLUE1<="1010001010";
		ELSE
			COLOR_BLUE1<="0000000000";
		END IF;
	END IF;
END PROCESS;

END MAIN;
